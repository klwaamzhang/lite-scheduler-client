(this.webpackJsonpscheduler=this.webpackJsonpscheduler||[]).push([[0],{117:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAdgAAAHYBTnsmCAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAKDSURBVDiNlZJdSFNhHMZ/79nxc/kxteHXdAZJIIgaKESFkSkpKJVFUVFRYFBXXkg3QpB1URiEkYIRJFpiRh9gIRbdFEGEF0UFgbbNqVPT7ZzNudrZOV3o1O70ufo98P6fl+f9v7BOFqu1ODM7tyXqM3PyGjNz8hpXfXZui8VqLV4/I28BqyTLZQCEtTNZBYUVwVnPFwBzYuIlgGRZDgBk2ewXHT+/lybL8kMAXdNGRXlGRvutsrJmCeib9jCemERrihmAu7+9AFzOsADQpi5SsOjnZFYmBnBldPSmDFBqsSAJgTkujvcLXkrT0gA4YRgAq75uMchuez6F5uULanNzP8sRMN56PP5oJ5tsYmR6en3NVW+TTThVFaeqAvDM7a6Q9fxtwtLekSQkwWZk6AZ60wUhAdjsdsYcbto6HzPvU3C6PVzv6mdmboGZuQXaOh8xMTXLvE/h2r0+xp2T2Oz25S1EE8cdThQpGdfEJIrixycl4XRNoEU0FFMKDpeLhPhYVFMqDpebvdE1RgPOnz1Fo89HSmoqAA3r+GD1Gu+vXGZd1/8PeDU8wpORTzQdPUAgEKTv9QfONVSCAQ9evON03R7M5gS6BoY5XrOL6qp9/wd4F7wsIaMqfnyqQogYFL8fLRzmj4hFUVVCoSVCIhZFUVcfU9zp7qmtP3J4CEALh5FjYtgI67pOY03VbZMQRn1tw6Hq5y+HuHH/Kenxgq/fftDWPUiSpDE2/ournf3EGyGmJqdo7ehF+htgR+F2Bnp7PkrpW60KQCQSQQiBEALD0BFCIAlBJKIhJAmAiLbMQqz9GVG6s7x9cPhNs7RyaKOKVhBFRSUlicnmY5uaXlFQXRz4B/CZA4pP5lsDAAAAAElFTkSuQmCC"},141:function(e,a,t){e.exports=t(170)},170:function(e,a,t){"use strict";t.r(a);var n=t(3),r=t.n(n),l=t(18),c=t.n(l),i=t(208),o=t(234),u=t(210),s=t(212),m=t(173),d=t(213),p=t(22);function g(){var e=Object(p.b)();return{openAuthDialog:function(){return e({type:"OPEN_AUTH_DIALOG"})},closeAuthDialog:function(){return e({type:"CLOSE_AUTH_DIALOG"})},goToLoginPage:function(){return e({type:"GO_TO_LOGIN_PAGE"})},goToRegisterPage:function(){return e({type:"GO_TO_REGISTER_PAGE"})}}}function E(){var e=Object(p.b)();return{openAccountDialog:function(){return e({type:"OPEN_ACCOUNT_DIALOG"})},closeAccountDialog:function(){return e({type:"CLOSE_ACCOUNT_DIALOG"})}}}var f=t(117),b=t.n(f),v=Object(i.a)((function(e){return Object(o.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},icon:{marginRight:e.spacing(2)}})}));function h(){var e=v(),a=Object(p.c)((function(e){return e.app.isSignedin})),t=g().openAuthDialog,n=E().openAccountDialog;return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement("img",{alt:"appBarIcon",src:b.a,className:e.icon}),r.a.createElement(m.a,{variant:"h6",className:e.title},"Lite Scheduler"),a?r.a.createElement(d.a,{color:"inherit",onClick:n},"User Account"):r.a.createElement(d.a,{color:"inherit",onClick:t},"Login"))))}var A=t(233),O=t(15),S=t(30),y=t(235),j=t(216),D=t(236),C=t(214),T=t(217),N=t(229),w=t(57),x=t.n(w),I=t(215),R=t(220),U=t(230),P=t(238),G=t(239);function _(){return r.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(C.a,{color:"inherit",href:""},"LiteScheduler")," ",(new Date).getFullYear())}var F="https://lite-scheduler.herokuapp.com",L=t(36),q=t.n(L),B=Object(i.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},formControl:{margin:e.spacing(1),minWidth:200}}}));function k(){var e=B(),a=g().goToLoginPage,t=r.a.useState({emailAddress:"",userName:"",password:"",accountType:"Regular"}),n=Object(S.a)(t,2),l=n[0],c=n[1];return r.a.createElement(I.a,{component:"main",maxWidth:"xs"},r.a.createElement(j.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(y.a,{className:e.avatar},r.a.createElement(x.a,null)),r.a.createElement(m.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),q.a.post(F+"/signup",l).then((function(e){"SignUp Succeeded"===e.data.msg?a():alert(e.data.msg)}))}},r.a.createElement(T.a,{container:!0,spacing:2},r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(D.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:l.emailAddress,onChange:function(e){c(Object(O.a)(Object(O.a)({},l),{},{emailAddress:e.target.value}))}})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(D.a,{variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:"User Name",name:"userName",autoComplete:"uname",value:l.userName,onChange:function(e){c(Object(O.a)(Object(O.a)({},l),{},{userName:e.target.value}))}})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:l.password,onChange:function(e){c(Object(O.a)(Object(O.a)({},l),{},{password:e.target.value}))}})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(R.a,{required:!0,className:e.formControl},r.a.createElement(P.a,{id:"labelAccountType"},"Choose Account Type"),r.a.createElement(U.a,{required:!0,labelId:"labelAccountType",id:"accountType",value:l.accountType,onChange:function(e){c(Object(O.a)(Object(O.a)({},l),{},{accountType:e.target.value}))}},r.a.createElement(G.a,{value:"Regular"},"Regular"),r.a.createElement(G.a,{value:"Student"},"Student"),r.a.createElement(G.a,{value:"Senior"},"Senior"))))),r.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),r.a.createElement(T.a,{container:!0,justify:"flex-end"},r.a.createElement(T.a,{item:!0},r.a.createElement(C.a,{href:"#",variant:"body2",onClick:a},"Already have an account? Login"))))),r.a.createElement(N.a,{mt:5},r.a.createElement(_,null)))}var W=Object(i.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function V(){var e=W(),a=function(){var e=Object(p.b)();return{fetchUserData:function(a){return e({type:"FETCH_USER_DATA",payload:a})},signIn:function(){return e({type:"SIGN_IN"})}}}(),t=a.fetchUserData,n=a.signIn,l=g(),c=l.closeAuthDialog,i=l.goToRegisterPage,o=r.a.useState({emailAddress:"",password:""}),u=Object(S.a)(o,2),s=u[0],E=u[1];return r.a.createElement(I.a,{component:"main",maxWidth:"xs"},r.a.createElement(j.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(y.a,{className:e.avatar},r.a.createElement(x.a,null)),r.a.createElement(m.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),q.a.post(F+"/signin",s).then((function(e){console.log(e.data),"SignIn Succeeded"===e.data.msg?(t(e.data),n(),c()):alert(e.data.msg)}))}},r.a.createElement(D.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:s.emailAddress,onChange:function(e){E(Object(O.a)(Object(O.a)({},s),{},{emailAddress:e.target.value}))}}),r.a.createElement(D.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:s.password,onChange:function(e){E(Object(O.a)(Object(O.a)({},s),{},{password:e.target.value}))}}),r.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"),r.a.createElement(T.a,{container:!0},r.a.createElement(T.a,{item:!0,xs:!0}),r.a.createElement(T.a,{item:!0},r.a.createElement(C.a,{href:"#",variant:"body2",onClick:i},"Don't have an account? Register"))))),r.a.createElement(N.a,{mt:8},r.a.createElement(_,null)))}var Q=t(12),z=t(221),H=Object(Q.a)((function(e){return{root:{padding:e.spacing(2)}}}))(z.a);function X(){var e=Object(p.c)((function(e){return e.authDialog})),a=e.isAuthDialogOpened,t=e.isSigninPageOpened,n=g().closeAuthDialog;return r.a.createElement(A.a,{"aria-labelledby":"customized-dialog-title",open:a,onClose:n},r.a.createElement(H,null,t?r.a.createElement(V,null):r.a.createElement(k,null)))}var Y=Object(i.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},formControl:{margin:e.spacing(1),minWidth:200}}}));function Z(){var e=Y(),a=Object(p.c)((function(e){return e.app.userData})),t=r.a.useState(a),n=Object(S.a)(t,2),l=n[0],c=n[1];return r.a.createElement(I.a,{component:"main",maxWidth:"xs"},r.a.createElement(j.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(y.a,{className:e.avatar},r.a.createElement(x.a,null)),r.a.createElement(m.a,{component:"h1",variant:"h5"},"USER ACCOUNT"),r.a.createElement("form",{"data-testid":"account-form",className:e.form,onSubmit:function(e){e.preventDefault(),q.a.post(F+"/updateUserInfo",l).then((function(e){alert(e.data.msg),window.location.reload()}))}},r.a.createElement(T.a,{container:!0,spacing:2},r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(D.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:l.emailAddress,onChange:function(e){c(Object(O.a)(Object(O.a)({},l),{},{emailAddress:e.target.value}))}})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(D.a,{variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:"User Name",name:"userName",autoComplete:"uname",value:l.userName,onChange:function(e){c(Object(O.a)(Object(O.a)({},l),{},{userName:e.target.value}))}})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(D.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:l.password,onChange:function(e){c(Object(O.a)(Object(O.a)({},l),{},{password:e.target.value}))}})),r.a.createElement(T.a,{item:!0,xs:12},r.a.createElement(R.a,{required:!0,className:e.formControl},r.a.createElement(P.a,{id:"labelAccountType"},"Choose Account Type"),r.a.createElement(U.a,{required:!0,labelId:"labelAccountType",id:"accountType",value:l.accountType,onChange:function(e){c(Object(O.a)(Object(O.a)({},l),{},{accountType:e.target.value}))}},r.a.createElement(G.a,{value:"Regular"},"Regular"),r.a.createElement(G.a,{value:"Student"},"Student"),r.a.createElement(G.a,{value:"Senior"},"Senior"))))),r.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"UPDATE"),r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){return window.location.reload()}},"SIGN OUT"))),r.a.createElement(N.a,{mt:5},r.a.createElement(_,null)))}function J(){var e=Object(p.c)((function(e){return e.accountDialog.isAccountDialogOpened})),a=E().closeAccountDialog;return r.a.createElement(A.a,{"aria-labelledby":"customized-dialog-title",onClose:a,open:e},r.a.createElement(H,null,r.a.createElement(Z,null)))}var M=t(228),K=t(88),$=t(224),ee=t(225),ae=t(226),te=t(81),ne=t(240);function re(e){var a=Object(p.c)((function(e){return e.app.userData})),t=r.a.useState({userId:a._id,bindingData:[],isTimetable:e.timetable||!1}),l=Object(S.a)(t,2),c=l[0],i=l[1];console.log("data: "+JSON.stringify(c));Object(n.useEffect)((function(){o()}),[]);var o=function(){console.log(a._id),q.a.post(F+"/retrieveUserData",{userId:a._id}).then((function(a){console.log(a.data),"Data Retrieved Successful"===a.data.msg?i(Object(O.a)(Object(O.a)({},c),{},{bindingData:e.timetable?a.data.timetableData?a.data.timetableData:[]:a.data.scheduleData?a.data.scheduleData:[]})):alert(a.data.msg)}))};return"Senior"===a.accountType&&(document.body.style.zoom="150%"),r.a.createElement(M.a,{popupOpen:function(e){if("Editor"===e.type&&!e.element.querySelector(".custom-field-row")){var a=Object(te.a)("div",{className:"custom-field-row"}),t=e.element.querySelector(".e-schedule-form");t.firstChild.insertBefore(a,t.firstChild.children[6]);var n=Object(te.a)("div",{className:"custom-field-container"}),r=Object(te.a)("input",{className:"e-field",attrs:{name:"SendEmailTime"}});console.log("onPopupOpen: "+e),n.appendChild(r),a.appendChild(n),new ne.a({dataSource:[{text:"None",value:0},{text:"Before 5 minutes",value:5},{text:"Before 10 minutes",value:10},{text:"Before 20 minutes",value:20}],fields:{text:"text",value:"value"},value:0,floatLabelType:"Always",placeholder:"Send Email Notification"}).appendTo(r),r.setAttribute("name","SendEmailTime")}},eventSettings:{dataSource:c.bindingData},actionComplete:function(e){"eventCreated"!==e.requestType&&"eventChanged"!==e.requestType&&"eventRemoved"!==e.requestType||q.a.post(F+"/storeUserData",c).then((function(e){alert(e.data.msg)}))},views:"Senior"!==a.accountType?["Day","Week","Month"]:["Day"]},r.a.createElement(K.b,{services:"Senior"!==a.accountType?[$.a,ee.a,ae.a]:[$.a]}))}var le=t(121),ce=t(231),ie=t(227);function oe(e){var a=e.children,t=e.value,n=e.index,l=Object(le.a)(e,["children","value","index"]);return r.a.createElement(m.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},l),t===n&&r.a.createElement(N.a,null,a))}function ue(){var e=r.a.useState(0),a=Object(S.a)(e,2),t=a[0],n=a[1];return r.a.createElement("div",null,r.a.createElement(ce.a,{value:t,indicatorColor:"primary",textColor:"primary",onChange:function(e,a){n(a)},"aria-label":"disabled tabs example"},r.a.createElement(ie.a,{label:"Schedule"}),r.a.createElement(ie.a,{label:"TimeTable"})),r.a.createElement(oe,{value:t,index:0},r.a.createElement(re,null)),r.a.createElement(oe,{value:t,index:1},r.a.createElement(re,{timetable:!0})))}function se(){return r.a.createElement(re,null)}function me(){var e=r.a.useState([]),a=Object(S.a)(e,2),t=a[0],l=a[1];Object(n.useEffect)((function(){var e=localStorage.getItem("localScheduleData");null!=e&&l(JSON.parse(e))}),[]);return r.a.createElement(M.a,{dataBinding:function(){var e=JSON.stringify(t);localStorage.setItem("localScheduleData",e)},eventSettings:{dataSource:t},views:["Day","Week","Month"]},r.a.createElement(K.b,{services:[$.a,ee.a,ae.a]}))}function de(){var e=Object(p.c)((function(e){return e.app.userData}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null),r.a.createElement(X,null),r.a.createElement(h,null),function(){switch(e.accountType){case"Regular":return r.a.createElement(re,null);case"Student":return r.a.createElement(ue,null);case"Senior":return r.a.createElement(se,null);default:return r.a.createElement(me,null)}}())}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=t(56),ge={isAuthDialogOpened:!1,isSigninPageOpened:!0};var Ee={userData:{_id:"123",emailAddress:"",userName:"",password:"",accountType:"Unregistered"},isSignedin:!1};var fe={isAccountDialogOpened:!1};var be=Object(pe.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_USER_DATA":return Object(O.a)(Object(O.a)({},e),{},{userData:a.payload});case"SIGN_IN":return Object(O.a)(Object(O.a)({},e),{},{isSignedin:!0});default:return e}},authDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"OPEN_AUTH_DIALOG":return Object(O.a)(Object(O.a)({},e),{},{isAuthDialogOpened:!0});case"CLOSE_AUTH_DIALOG":return Object(O.a)(Object(O.a)({},e),{},{isAuthDialogOpened:!1,isSigninPageOpened:!0});case"GO_TO_LOGIN_PAGE":return Object(O.a)(Object(O.a)({},e),{},{isSigninPageOpened:!0});case"GO_TO_REGISTER_PAGE":return Object(O.a)(Object(O.a)({},e),{},{isSigninPageOpened:!1});default:return e}},accountDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"OPEN_ACCOUNT_DIALOG":return Object(O.a)(Object(O.a)({},e),{},{isAccountDialogOpened:!0});case"CLOSE_ACCOUNT_DIALOG":return Object(O.a)(Object(O.a)({},e),{},{isAccountDialogOpened:!1});default:return e}}}),ve=Object(pe.c)(be);c.a.render(r.a.createElement(p.a,{store:ve},r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[141,1,2]]]);
//# sourceMappingURL=main.f8267796.chunk.js.map