(this.webpackJsonpscheduler=this.webpackJsonpscheduler||[]).push([[0],{110:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAdgAAAHYBTnsmCAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAKDSURBVDiNlZJdSFNhHMZ/79nxc/kxteHXdAZJIIgaKESFkSkpKJVFUVFRYFBXXkg3QpB1URiEkYIRJFpiRh9gIRbdFEGEF0UFgbbNqVPT7ZzNudrZOV3o1O70ufo98P6fl+f9v7BOFqu1ODM7tyXqM3PyGjNz8hpXfXZui8VqLV4/I28BqyTLZQCEtTNZBYUVwVnPFwBzYuIlgGRZDgBk2ewXHT+/lybL8kMAXdNGRXlGRvutsrJmCeib9jCemERrihmAu7+9AFzOsADQpi5SsOjnZFYmBnBldPSmDFBqsSAJgTkujvcLXkrT0gA4YRgAq75uMchuez6F5uULanNzP8sRMN56PP5oJ5tsYmR6en3NVW+TTThVFaeqAvDM7a6Q9fxtwtLekSQkwWZk6AZ60wUhAdjsdsYcbto6HzPvU3C6PVzv6mdmboGZuQXaOh8xMTXLvE/h2r0+xp2T2Oz25S1EE8cdThQpGdfEJIrixycl4XRNoEU0FFMKDpeLhPhYVFMqDpebvdE1RgPOnz1Fo89HSmoqAA3r+GD1Gu+vXGZd1/8PeDU8wpORTzQdPUAgEKTv9QfONVSCAQ9evON03R7M5gS6BoY5XrOL6qp9/wd4F7wsIaMqfnyqQogYFL8fLRzmj4hFUVVCoSVCIhZFUVcfU9zp7qmtP3J4CEALh5FjYtgI67pOY03VbZMQRn1tw6Hq5y+HuHH/Kenxgq/fftDWPUiSpDE2/ournf3EGyGmJqdo7ehF+htgR+F2Bnp7PkrpW60KQCQSQQiBEALD0BFCIAlBJKIhJAmAiLbMQqz9GVG6s7x9cPhNs7RyaKOKVhBFRSUlicnmY5uaXlFQXRz4B/CZA4pP5lsDAAAAAElFTkSuQmCC"},134:function(e,a,t){e.exports=t(146)},146:function(e,a,t){"use strict";t.r(a);var n=t(4),r=t.n(n),l=t(18),i=t.n(l),c=t(187),o=t(214),u=t(189),s=t(191),m=t(149),d=t(192),p=t(23);function g(){var e=Object(p.b)();return{openAuthDialog:function(){return e({type:"OPEN_AUTH_DIALOG"})},closeAuthDialog:function(){return e({type:"CLOSE_AUTH_DIALOG"})},goToLoginPage:function(){return e({type:"GO_TO_LOGIN_PAGE"})},goToRegisterPage:function(){return e({type:"GO_TO_REGISTER_PAGE"})}}}function f(){var e=Object(p.b)();return{openAccountDialog:function(){return e({type:"OPEN_ACCOUNT_DIALOG"})},closeAccountDialog:function(){return e({type:"CLOSE_ACCOUNT_DIALOG"})}}}var E=t(110),h=t.n(E),b=Object(c.a)((function(e){return Object(o.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},icon:{marginRight:e.spacing(2)}})}));function v(){var e=b(),a=Object(p.c)((function(e){return e.app.isSignedin})),t=g().openAuthDialog,n=f().openAccountDialog;return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement("img",{alt:"appBarIcon",src:h.a,className:e.icon}),r.a.createElement(m.a,{variant:"h6",className:e.title},"Lite Scheduler"),a?r.a.createElement(d.a,{color:"inherit",onClick:n},"User Account"):r.a.createElement(d.a,{color:"inherit",onClick:t},"Login"))))}var O=t(13),A=t(213),y=t(200),S=t(15),T=t(28),j=t(215),D=t(195),C=t(216),N=t(193),w=t(196),x=t(209),I=t(56),P=t.n(I),R=t(194),U=t(199),_=t(210),G=t(218),q=t(219);function F(){return r.a.createElement(m.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(N.a,{color:"inherit",href:""},"LiteScheduler")," ",(new Date).getFullYear())}var L="https://lite-scheduler.herokuapp.com",B=Object(c.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},formControl:{margin:e.spacing(1),minWidth:200}}}));function k(){var e=B(),a=g().goToLoginPage,t=r.a.useState({emailAddress:"",userName:"",password:"",accountType:"Regular"}),n=Object(T.a)(t,2),l=n[0],i=n[1];return r.a.createElement(R.a,{component:"main",maxWidth:"xs"},r.a.createElement(D.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(j.a,{className:e.avatar},r.a.createElement(P.a,null)),r.a.createElement(m.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),fetch(L+"/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){1===e.msg?a():alert(e.msg)}))}},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:l.emailAddress,onChange:function(e){i(Object(S.a)(Object(S.a)({},l),{},{emailAddress:e.target.value}))}})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:"User Name",name:"userName",autoComplete:"uname",value:l.userName,onChange:function(e){i(Object(S.a)(Object(S.a)({},l),{},{userName:e.target.value}))}})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:l.password,onChange:function(e){i(Object(S.a)(Object(S.a)({},l),{},{password:e.target.value}))}})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(U.a,{required:!0,className:e.formControl},r.a.createElement(G.a,{id:"labelAccountType"},"Choose Account Type"),r.a.createElement(_.a,{required:!0,labelId:"labelAccountType",id:"accountType",value:l.accountType,onChange:function(e){i(Object(S.a)(Object(S.a)({},l),{},{accountType:e.target.value}))}},r.a.createElement(q.a,{value:"Regular"},"Regular"),r.a.createElement(q.a,{value:"Student"},"Student"),r.a.createElement(q.a,{value:"Senior"},"Senior"))))),r.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),r.a.createElement(w.a,{container:!0,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(N.a,{href:"#",variant:"body2",onClick:a},"Already have an account? Login"))))),r.a.createElement(x.a,{mt:5},r.a.createElement(F,null)))}var W=Object(c.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function J(){var e=W(),a=function(){var e=Object(p.b)();return{fetchUserData:function(a){return e({type:"FETCH_USER_DATA",payload:a})},signIn:function(){return e({type:"SIGN_IN"})}}}(),t=a.fetchUserData,n=a.signIn,l=g(),i=l.closeAuthDialog,c=l.goToRegisterPage,o=r.a.useState({emailAddress:"",password:""}),u=Object(T.a)(o,2),s=u[0],f=u[1];return r.a.createElement(R.a,{component:"main",maxWidth:"xs"},r.a.createElement(D.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(j.a,{className:e.avatar},r.a.createElement(P.a,null)),r.a.createElement(m.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),fetch(L+"/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){1===e.msg?(t(e),n(),i()):alert(e.msg)}))}},r.a.createElement(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:s.emailAddress,onChange:function(e){f(Object(S.a)(Object(S.a)({},s),{},{emailAddress:e.target.value}))}}),r.a.createElement(C.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:s.password,onChange:function(e){f(Object(S.a)(Object(S.a)({},s),{},{password:e.target.value}))}}),r.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"),r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,xs:!0}),r.a.createElement(w.a,{item:!0},r.a.createElement(N.a,{href:"#",variant:"body2",onClick:c},"Don't have an account? Register"))))),r.a.createElement(x.a,{mt:8},r.a.createElement(F,null)))}var V=Object(O.a)((function(e){return{root:{padding:e.spacing(2)}}}))(y.a);function Q(){var e=Object(p.c)((function(e){return e.authDialog})),a=e.isAuthDialogOpened,t=e.isSigninPageOpened,n=g().closeAuthDialog;return r.a.createElement(A.a,{"aria-labelledby":"customized-dialog-title",open:a,onClose:n},r.a.createElement(V,null,t?r.a.createElement(J,null):r.a.createElement(k,null)))}var z=Object(c.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},formControl:{margin:e.spacing(1),minWidth:200}}}));function M(){var e=z(),a=Object(p.c)((function(e){return e.app.userData})),t=r.a.useState(a),n=Object(T.a)(t,2),l=n[0],i=n[1];return r.a.createElement(R.a,{component:"main",maxWidth:"xs"},r.a.createElement(D.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(j.a,{className:e.avatar},r.a.createElement(P.a,null)),r.a.createElement(m.a,{component:"h1",variant:"h5"},"USER ACCOUNT"),r.a.createElement("form",{"data-testid":"account-form",className:e.form,onSubmit:function(e){e.preventDefault(),fetch(L+"/updateUserInfo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){alert(e.msg),window.location.reload()}))}},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:l.emailAddress,onChange:function(e){i(Object(S.a)(Object(S.a)({},l),{},{emailAddress:e.target.value}))}})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:"User Name",name:"userName",autoComplete:"uname",value:l.userName,onChange:function(e){i(Object(S.a)(Object(S.a)({},l),{},{userName:e.target.value}))}})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:l.password,onChange:function(e){i(Object(S.a)(Object(S.a)({},l),{},{password:e.target.value}))}})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(U.a,{required:!0,className:e.formControl},r.a.createElement(G.a,{id:"labelAccountType"},"Choose Account Type"),r.a.createElement(_.a,{required:!0,labelId:"labelAccountType",id:"accountType",value:l.accountType,onChange:function(e){i(Object(S.a)(Object(S.a)({},l),{},{accountType:e.target.value}))}},r.a.createElement(q.a,{value:"Regular"},"Regular"),r.a.createElement(q.a,{value:"Student"},"Student"),r.a.createElement(q.a,{value:"Senior"},"Senior"))))),r.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"UPDATE"),r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"secondary",onClick:function(){return window.location.reload()}},"SIGN OUT"))),r.a.createElement(x.a,{mt:5},r.a.createElement(F,null)))}var H=Object(O.a)((function(e){return{root:{padding:e.spacing(2)}}}))(y.a);function X(){var e=Object(p.c)((function(e){return e.accountDialog.isAccountDialogOpened})),a=f().closeAccountDialog;return r.a.createElement(A.a,{"aria-labelledby":"customized-dialog-title",onClose:a,open:e},r.a.createElement(H,null,r.a.createElement(M,null)))}var Y=t(207),Z=t(86),K=t(203),$=t(204),ee=t(205),ae=t(1),te=t(220);function ne(e){var a=Object(p.c)((function(e){return e.app.userData})),t=r.a.useState({userId:a._id,bindingData:[],isTimetable:e.timetable||!1}),l=Object(T.a)(t,2),i=l[0],c=l[1];console.log("data: "+JSON.stringify(i));Object(n.useEffect)((function(){o()}),[i.userId]);var o=function(){console.log(a._id),fetch(L+"/retrieveUserData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a._id})}).then((function(e){return e.json()})).then((function(a){console.log(a),0!==a.msg||-1!==a.msg?c(Object(S.a)(Object(S.a)({},i),{},{bindingData:e.timetable?a.timetableData?a.timetableData:[]:a.scheduleData?a.scheduleData:[]})):alert(a.msg)}))};return r.a.createElement(Y.a,{popupOpen:function(e){if("Editor"===e.type&&!e.element.querySelector(".custom-field-row")){var a=Object(ae.w)("div",{className:"custom-field-row"}),t=e.element.querySelector(".e-schedule-form");t.firstChild.insertBefore(a,t.firstChild.children[6]);var n=Object(ae.w)("div",{className:"custom-field-container"}),r=Object(ae.w)("input",{className:"e-field",attrs:{name:"SendEmailTime"}});console.log("onPopupOpen: "+e),n.appendChild(r),a.appendChild(n),new te.a({dataSource:[{text:"None",value:0},{text:"Before 5 minutes",value:5},{text:"Before 10 minutes",value:10},{text:"Before 20 minutes",value:20}],fields:{text:"text",value:"value"},value:0,floatLabelType:"Always",placeholder:"Send Email Notification"}).appendTo(r),r.setAttribute("name","SendEmailTime")}},eventSettings:{dataSource:i.bindingData},actionComplete:function(e){"eventCreated"!==e.requestType&&"eventChanged"!==e.requestType&&"eventRemoved"!==e.requestType||fetch(L+"/storeUserData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){alert(e.msg)}))},views:["Day","Week","Month"]},r.a.createElement(Z.b,{services:[K.a,$.a,ee.a]}))}var re=t(114),le=t(211),ie=t(206);function ce(e){var a=e.children,t=e.value,n=e.index,l=Object(re.a)(e,["children","value","index"]);return r.a.createElement(m.a,Object.assign({component:"div",role:"tabpanel",hidden:t!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},l),t===n&&r.a.createElement(x.a,null,a))}function oe(){var e=r.a.useState(0),a=Object(T.a)(e,2),t=a[0],n=a[1];return r.a.createElement("div",null,r.a.createElement(le.a,{value:t,indicatorColor:"primary",textColor:"primary",onChange:function(e,a){n(a)},"aria-label":"disabled tabs example"},r.a.createElement(ie.a,{label:"Schedule"}),r.a.createElement(ie.a,{label:"TimeTable"})),r.a.createElement(ce,{value:t,index:0},r.a.createElement(ne,null)),r.a.createElement(ce,{value:t,index:1},r.a.createElement(ne,{timetable:!0})))}var ue=t(208);function se(){var e=Object(p.c)((function(e){return e.app.userData})),a=r.a.useState({userId:e._id,bindingData:[]}),t=Object(T.a)(a,2),l=t[0],i=t[1];Object(n.useEffect)((function(){c()}),[l.userId]);var c=function(){console.log(e._id),fetch(L+"/retrieveUserData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e._id})}).then((function(e){return e.json()})).then((function(e){console.log(e),0!==e.msg||-1!==e.msg?i(Object(S.a)(Object(S.a)({},l),{},{bindingData:e.scheduleData})):alert(e.msg)}))};document.body.style.zoom="150%";return r.a.createElement(Y.a,{width:"100%",views:["Day"],editorTemplate:function(e){return void 0!==e?r.a.createElement("table",{className:"custom-event-editor",style:{width:"100%"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"e-textlabel"},"Title"),r.a.createElement("td",{colSpan:4},r.a.createElement("input",{id:"Summary",className:"e-field e-input",type:"text",name:"Subject",style:{width:"100%"}}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"e-textlabel"},"From"),r.a.createElement("td",{colSpan:4},r.a.createElement(ue.a,{format:"dd/MM/yy hh:mm a",id:"StartTime","data-name":"StartTime",value:new Date(e.startTime||e.StartTime),className:"e-field"}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"e-textlabel"},"To"),r.a.createElement("td",{colSpan:4},r.a.createElement(ue.a,{format:"dd/MM/yy hh:mm a",id:"EndTime","data-name":"EndTime",value:new Date(e.endTime||e.EndTime),className:"e-field"}))),r.a.createElement("tr",null,r.a.createElement("td",{className:"e-textlabel"},"Reason"),r.a.createElement("td",{colSpan:4},r.a.createElement("textarea",{id:"Description",className:"e-field e-input",name:"Description",rows:3,cols:50,style:{width:"100%",height:"60px !important",resize:"vertical"}}))))):r.a.createElement("div",null)},actionComplete:function(e){"eventCreated"!==e.requestType&&"eventChanged"!==e.requestType&&"eventRemoved"!==e.requestType||fetch(L+"/storeUserData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){alert(e.msg)}))},eventSettings:{dataSource:l.bindingData}},r.a.createElement(Z.b,{services:[K.a]}))}function me(){var e=r.a.useState([]),a=Object(T.a)(e,2),t=a[0],l=a[1];Object(n.useEffect)((function(){var e=localStorage.getItem("localScheduleData");null!=e&&l(JSON.parse(e))}),[]);return r.a.createElement(Y.a,{dataBinding:function(){var e=JSON.stringify(t);localStorage.setItem("localScheduleData",e)},eventSettings:{dataSource:t},views:["Day","Week","Month"]},r.a.createElement(Z.b,{services:[K.a,$.a,ee.a]}))}function de(){var e=Object(p.c)((function(e){return e.app.userData}));return r.a.createElement("div",null,r.a.createElement(X,null),r.a.createElement(Q,null),r.a.createElement(v,null),function(){switch(e.accountType){case"Regular":return r.a.createElement(ne,null);case"Student":return r.a.createElement(oe,null);case"Senior":return r.a.createElement(se,null);default:return r.a.createElement(me,null)}}())}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=t(55),ge={isAuthDialogOpened:!1,isSigninPageOpened:!0};var fe={userData:{_id:"123",emailAddress:"",userName:"",password:"",accountType:"Unregistered"},isSignedin:!1};var Ee={isAccountDialogOpened:!1};var he=Object(pe.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_USER_DATA":return Object(S.a)(Object(S.a)({},e),{},{userData:a.payload});case"SIGN_IN":return Object(S.a)(Object(S.a)({},e),{},{isSignedin:!0});default:return e}},authDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"OPEN_AUTH_DIALOG":return Object(S.a)(Object(S.a)({},e),{},{isAuthDialogOpened:!0});case"CLOSE_AUTH_DIALOG":return Object(S.a)(Object(S.a)({},e),{},{isAuthDialogOpened:!1,isSigninPageOpened:!0});case"GO_TO_LOGIN_PAGE":return Object(S.a)(Object(S.a)({},e),{},{isSigninPageOpened:!0});case"GO_TO_REGISTER_PAGE":return Object(S.a)(Object(S.a)({},e),{},{isSigninPageOpened:!1});default:return e}},accountDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"OPEN_ACCOUNT_DIALOG":return Object(S.a)(Object(S.a)({},e),{},{isAccountDialogOpened:!0});case"CLOSE_ACCOUNT_DIALOG":return Object(S.a)(Object(S.a)({},e),{},{isAccountDialogOpened:!1});default:return e}}}),be=Object(pe.c)(he);i.a.render(r.a.createElement(p.a,{store:be},r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[134,1,2]]]);
//# sourceMappingURL=main.0f5e504d.chunk.js.map